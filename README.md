# callagent

Android-приложение для интеграции телефонии смартфона в бизнес-системы


### Функции

- передача событий входящего звонка: начало, ответ, завершение вызова

- передача событий исходящего звонка: начало, завершение вызова

- передача полной информации по звонку: номер звонящего/вызываемого, дата, время, длительность, направление

- передача записи звонка (только для [смартфонов со встроенной автоматической записью звонков](smartphones.md))


### Требования к веб-серверу

Прием POST-запросов на url

- /event события

- /calldata данные по звонку

- /record запись звонка

- /log лог-файл со смартфона


### Формат данных

#### События

accountId - аккаунт смартфона

mobile - номер смартфона

direction - направление вызова: incoming / outgoing

type - тип события: START / ANSWER / END

number - номер звонящего

uuid - id звонка, для связи событий, данных, записи

startDate - время события

пример

`````js
{
  accountId: 'account',
  direction: 'incoming',
  startDate: '2021-08-24 21:40:27',
  type: 'START',
  number: '+79831693504',
  uuid: 'b13b482c-7984-47d9-bb5f-fb7aa423dd57',
  mobile: '89135292966'
}

`````
